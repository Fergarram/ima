function h(q){if(typeof window==="undefined")return new Proxy({},{get:y});else return new Proxy({},{get:(F,z)=>A(F,String(z),q)})}if(typeof window==="undefined")globalThis.document={createElement:()=>({}),createTextNode:()=>({}),createComment:()=>({}),createElementNS:()=>({})},console.warn("Trying to use client-side tags on server.");function E(q){let j={},F=q,z,B;if(q.length>0){let J=q[0];if(typeof J==="string"||typeof J==="number"||typeof window!=="undefined"&&J instanceof HTMLElement||typeof J==="function")F=q;else if(Object.getPrototypeOf(J||0)===Object.prototype){let[P,...K]=q,{is:U,ref:Q,innerHTML:W,...N}=P;j=N,F=K,z=Q,B=W}}return{props:j,children:F,ref:z,innerHTML:B}}function A(q,j,F){return(...z)=>{let{props:B,children:J,ref:P,innerHTML:K}=E(z),U=F?document.createElementNS(F,j):document.createElement(j);if(P)P.current=U;for(let[Q,W]of Object.entries(B)){if(Q.startsWith("on")&&typeof W==="function"){let N=Q.substring(2).toLowerCase();U.addEventListener(N,W);continue}if(typeof W==="function"&&!Q.startsWith("on")){H(U,Q,W);continue}if(W===!0)U.setAttribute(Q,"");else if(W!==!1&&W!=null)U.setAttribute(Q,String(W))}if(K!==void 0)return U.innerHTML=String(K),U;for(let Q of J.flat(1/0))if(Q!=null)if(Q instanceof Node)U.appendChild(Q);else if(typeof Q==="function"){let W=M(Q);U.appendChild(W)}else U.appendChild(document.createTextNode(String(Q)));return U}}var w=new Proxy({},{get:(q,j)=>A(q,String(j))}),Y=[],Z=[],C=[],$=0,I=[],O=[],S=[],X=[],V=0,G=0,D=0;if(typeof window!=="undefined")requestAnimationFrame(R);function R(){let q=performance.now(),j=!1,F=!1;for(let z=0;z<V;z++){let B=I[z];if(!B||!B.isConnected){j=!0;continue}let J=O[z],P=S[z];if(!J||!P)continue;let K=P();if(K!==X[z]){if(K===!0)B.setAttribute(J,"true");else if(K===!1)B.setAttribute(J,"false");else if(K===null||K===void 0)B.removeAttribute(J);else B.setAttribute(J,String(K));X[z]=K}}for(let z=0;z<$;z++){let B=Y[z];if(!B||!B.isConnected){F=!0;continue}let J=Z[z];if(!J)continue;let P=J(),K=B.previousSibling;if(!K)continue;let U=!1;if(P instanceof Node)if(K instanceof HTMLElement&&P instanceof HTMLElement){if(K.outerHTML!==P.outerHTML)U=!0}else U=!0;else{let Q=String(P||"");if(K.nodeType===Node.TEXT_NODE)U=K.textContent!==Q;else U=!0}if(U){let Q;if(P instanceof Node)Q=P;else Q=document.createTextNode(String(P||""));K.replaceWith(Q)}}if(j||F){if(D++,D>=60)D=0,L()}G=performance.now()-q,requestAnimationFrame(R)}function L(){let q=0;for(let j=0;j<$;j++){let F=Y[j],z=Z[j],B=C[j];if(F&&F.isConnected){if(q!==j)Y[q]=F,Z[q]=z,C[q]=B;q++}}for(let j=q;j<$;j++)Y[j]=null,Z[j]=null,C[j]=null;$=q,q=0;for(let j=0;j<V;j++){let F=I[j],z=O[j],B=S[j],J=X[j];if(F&&F.isConnected){if(q!==j)I[q]=F,O[q]=z,S[q]=B,X[q]=J;q++}}for(let j=q;j<V;j++)I[j]=null,O[j]=null,S[j]=null,X[j]=void 0;V=q}function g(){return G}function M(q){let j=$++,F=document.createComment(`reactive-${j}`),z=q(),B;if(z instanceof Node)B=z;else B=document.createTextNode(String(z||""));let J=document.createDocumentFragment();return J.appendChild(B),J.appendChild(F),Y[j]=F,Z[j]=q,C[j]=B,J}function H(q,j,F){let z=V++,B=F();if(B===!0)q.setAttribute(j,"");else if(B!==!1&&B!=null)q.setAttribute(j,String(B));I[z]=q,O[z]=j,S[z]=F,X[z]=B}var T=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function f(q){return q.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(q){let j="";for(let[F,z]of Object.entries(q)){if(F.startsWith("on")||typeof z==="function")continue;if(z===!0)j+=` ${F}`;else if(z!==!1&&z!=null)j+=` ${F}="${f(String(z))}"`}return j}function y(q,j){return(...F)=>{let{props:z,children:B,innerHTML:J}=E(F),P=`<${j}${b(z)}`;if(T.has(j))return P+"/>";if(P+=">",J!==void 0){let K=typeof J==="function"?J():J;return P+=String(K),P+`</${j}>`}for(let K of B.flat(1/0))if(K!=null)if(typeof K==="function")P+=String(K());else P+=String(K);return P+`</${j}>`}}var x=new Proxy({},{get:y});export{h as useTags,w as tags,A as tagGenerator,x as staticTags,E as parseTagArgs,g as getFrameTime,f as escapeHtml,b as buildAttributesHtml};
